<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<title>Портфолио Владислава Геккеля</title>
<style>
  html, body {
    margin: 0;
    height: 100%;
    background: #f5f5f5;
    overflow: hidden;
    touch-action: none;
  }
  canvas {
    background: #fff;
    display: block;
    margin: auto;
    border: 1px solid #ddd;
    touch-action: none;
  }
</style>
</head>
<body>
  <canvas id="sheetCanvas" width="1600" height="900"></canvas>

  <script>
    const canvas = document.getElementById('sheetCanvas');
    const ctx = canvas.getContext('2d');

    // ——— Настройки начального состояния ———
    let scale = 1;
    let originX = 0;
    let originY = 0;
    let lastDistance = null;

    // ——— Отрисовка таблицы (временно пример) ———
    function drawSheet() {
      ctx.save();
      ctx.setTransform(scale, 0, 0, scale, originX, originY);
      ctx.clearRect(-originX / scale, -originY / scale, canvas.width / scale, canvas.height / scale);

      ctx.fillStyle = "#fff";
      ctx.fillRect(0, 0, 1600, 900);
      ctx.fillStyle = "#000";
      ctx.font = "bold 48px Arial";
      ctx.fillText("КТО ТАКОЙ МРАМОРНЫЙ ГРАННИК?", 100, 150);
      ctx.font = "18px Arial";
      ctx.fillText("Владислав Геккель — мраморный гранник из Санкт-Петербурга.", 100, 200);
      ctx.fillText("Он использует камень для создания эмоциональных образов.", 100, 230);

      // Пример изображения (можно заменить своим)
      const img = new Image();
      img.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Marble_texture_02.jpg/640px-Marble_texture_02.jpg";
      img.onload = () => ctx.drawImage(img, 100, 270, 600, 300);

      ctx.restore();
    }

    drawSheet();

    // ——— Pinch Zoom (два пальца) ———
    canvas.addEventListener("touchmove", e => {
      e.preventDefault();
      if (e.touches.length === 2) {
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        const distance = Math.sqrt(dx * dx + dy * dy);

        if (lastDistance) {
          const delta = distance - lastDistance;
          const zoomSpeed = 0.005;
          const newScale = Math.min(Math.max(0.5, scale + delta * zoomSpeed), 5);
          scale = newScale;
          drawSheet();
        }
        lastDistance = distance;
      }
    });

    canvas.addEventListener("touchend", () => (lastDistance = null));
  </script>
</body>
</html>
